<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
<head>
    <wicket:head>
        <style>
            .demo-section {
                background: #f8f9fa;
                border-left: 4px solid #007bff;
                padding: 20px;
                margin: 20px 0;
                border-radius: 5px;
            }
            
            .demo-section h4 {
                color: #007bff;
                margin-bottom: 15px;
            }
            
            .demo-container {
                background: white;
                border: 2px dashed #dee2e6;
                padding: 15px;
                margin: 15px 0;
                border-radius: 5px;
            }
            
            .demo-container-label {
                background: #007bff;
                color: white;
                padding: 5px 10px;
                border-radius: 3px;
                display: inline-block;
                margin-bottom: 10px;
                font-size: 0.9rem;
                font-weight: bold;
            }
            
            .hierarchy-box {
                border: 2px solid #6c757d;
                padding: 15px;
                margin: 10px 0;
                border-radius: 5px;
                background: #f8f9fa;
            }
            
            .hierarchy-box h6 {
                color: #6c757d;
                margin-bottom: 10px;
            }
            
            .btn-toggle {
                margin: 5px 0;
            }
        </style>
    </wicket:head>
</head>
<body>
<wicket:extend>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <h1><i class="fas fa-layer-group"></i> Agrupamento de Componentes</h1>
                <p class="lead">Módulo 5: Composição de Páginas e Componentes</p>
                <p>Demonstração de técnicas de agrupamento de componentes no Wicket.</p>
            </div>
        </div>

        <!-- DOCUMENTAÇÃO -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-book"></i> Documentação</h5>
                    </div>
                    <div class="card-body">
                        <div wicket:id="documentacao"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXEMPLO 1: WebMarkupContainer -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="demo-section">
                    <h4><i class="fas fa-box"></i> Exemplo 1: WebMarkupContainer - Controle de Visibilidade</h4>
                    <p>Clique nos botões para mostrar/ocultar grupos de informações:</p>
                    
                    <div class="mb-3">
                        <a wicket:id="toggleDadosPessoais" class="btn btn-primary btn-toggle">
                            <i class="fas fa-eye"></i> Alternar Dados Pessoais
                        </a>
                        <a wicket:id="toggleEndereco" class="btn btn-success btn-toggle">
                            <i class="fas fa-eye"></i> Alternar Endereço
                        </a>
                    </div>

                    <!-- Container 1: Dados Pessoais -->
                    <div wicket:id="dadosPessoaisContainer" class="demo-container">
                        <span class="demo-container-label">
                            <i class="fas fa-user"></i> Container: dadosPessoaisContainer
                        </span>
                        <h5 wicket:id="labelDadosPessoais">Dados Pessoais</h5>
                        <p wicket:id="infoDadosPessoais" class="text-muted"></p>
                        <ul>
                            <li>Nome: Campo de texto</li>
                            <li>Email: Campo de texto</li>
                            <li>Telefone: Campo de texto</li>
                        </ul>
                    </div>

                    <!-- Container 2: Endereço -->
                    <div wicket:id="enderecoContainer" class="demo-container">
                        <span class="demo-container-label">
                            <i class="fas fa-map-marker-alt"></i> Container: enderecoContainer
                        </span>
                        <h5 wicket:id="labelEndereco">Endereço</h5>
                        <p wicket:id="infoEndereco" class="text-muted"></p>
                        <ul>
                            <li>Rua: Campo de texto</li>
                            <li>Cidade: Campo de texto</li>
                            <li>CEP: Campo de texto</li>
                        </ul>
                    </div>

                    <div class="alert alert-info mt-3">
                        <i class="fas fa-info-circle"></i>
                        <strong>Como funciona:</strong> Os WebMarkupContainers permitem agrupar componentes
                        e controlar a visibilidade de todo o grupo com um único comando
                        (<code>container.setVisible(false)</code>).
                    </div>
                </div>
            </div>
        </div>

        <!-- EXEMPLO 2: Form - Agrupamento em Formulário -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="demo-section">
                    <h4><i class="fas fa-file-alt"></i> Exemplo 2: Form - Agrupamento de Campos</h4>
                    <p>Formulário organizado em grupos lógicos:</p>

                    <form wicket:id="formAgrupado">
                        <!-- Grupo: Dados Pessoais -->
                        <div wicket:id="grupoDadosPessoais" class="demo-container">
                            <span class="demo-container-label">
                                <i class="fas fa-user"></i> Grupo: grupoDadosPessoais
                            </span>
                            <h5>Dados Pessoais</h5>
                            <div class="row">
                                <div class="col-md-4">
                                    <label class="form-label">Nome:</label>
                                    <input type="text" wicket:id="nome" class="form-control" placeholder="Seu nome">
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Email:</label>
                                    <input type="text" wicket:id="email" class="form-control" placeholder="seu@email.com">
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Telefone:</label>
                                    <input type="text" wicket:id="telefone" class="form-control" placeholder="(00) 00000-0000">
                                </div>
                            </div>
                        </div>

                        <!-- Grupo: Endereço -->
                        <div wicket:id="grupoEndereco" class="demo-container">
                            <span class="demo-container-label">
                                <i class="fas fa-map-marker-alt"></i> Grupo: grupoEndereco
                            </span>
                            <h5>Endereço</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <label class="form-label">Rua:</label>
                                    <input type="text" wicket:id="rua" class="form-control" placeholder="Nome da rua">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Cidade:</label>
                                    <input type="text" wicket:id="cidade" class="form-control" placeholder="Cidade">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">CEP:</label>
                                    <input type="text" wicket:id="cep" class="form-control" placeholder="00000-000">
                                </div>
                            </div>
                        </div>

                        <button wicket:id="submit" type="submit" class="btn btn-primary mt-3">
                            <i class="fas fa-paper-plane"></i> Enviar Formulário
                        </button>
                    </form>

                    <div class="alert alert-success mt-3">
                        <i class="fas fa-check-circle"></i>
                        <strong>Benefício:</strong> Agrupar campos relacionados melhora a organização
                        do código e facilita a manutenção. Você pode, por exemplo, facilmente
                        desabilitar todo um grupo de campos com <code>grupoEndereco.setEnabled(false)</code>.
                    </div>
                </div>
            </div>
        </div>

        <!-- EXEMPLO 3: ListView - Agrupamento Repetitivo -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="demo-section">
                    <h4><i class="fas fa-list"></i> Exemplo 3: ListView - Agrupamento Repetitivo</h4>
                    <p>ListView agrupa componentes que se repetem para cada item de uma lista:</p>

                    <table class="table table-bordered mt-3">
                        <thead class="table-dark">
                            <tr>
                                <th>Nome</th>
                                <th>Descrição</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr wicket:id="itensLista">
                                <td wicket:id="itemNome">Item 1</td>
                                <td wicket:id="itemDescricao">Descrição do item 1</td>
                                <td>
                                    <span wicket:id="itemStatus" class="badge bg-success">Ativo</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="alert alert-warning">
                        <i class="fas fa-lightbulb"></i>
                        <strong>ListView:</strong> Cada item da lista é representado por um
                        <code>ListItem</code> que agrupa todos os componentes daquele item
                        (Label para nome, descrição e status). Isso facilita o acesso aos dados
                        e mantém a organização.
                    </div>
                </div>
            </div>
        </div>

        <!-- EXEMPLO 4: Hierarquia de Componentes -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="demo-section">
                    <h4><i class="fas fa-sitemap"></i> Exemplo 4: Hierarquia de Componentes</h4>
                    <p>Os componentes podem ser organizados em uma estrutura hierárquica:</p>

                    <div wicket:id="hierarchyContainer" class="hierarchy-box" style="border-color: #dc3545;">
                        <h6><i class="fas fa-layer-group"></i> Nível 1: hierarchyContainer (Container Principal)</h6>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div wicket:id="nivel2a" class="hierarchy-box" style="border-color: #ffc107;">
                                    <h6><i class="fas fa-box"></i> Nível 2a: nivel2a</h6>
                                    <ul class="list-unstyled">
                                        <li><span class="badge bg-primary" wicket:id="componenteA1">Componente A1</span></li>
                                        <li><span class="badge bg-primary" wicket:id="componenteA2">Componente A2</span></li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div wicket:id="nivel2b" class="hierarchy-box" style="border-color: #28a745;">
                                    <h6><i class="fas fa-box"></i> Nível 2b: nivel2b</h6>
                                    <ul class="list-unstyled">
                                        <li><span class="badge bg-success" wicket:id="componenteB1">Componente B1</span></li>
                                        <li><span class="badge bg-success" wicket:id="componenteB2">Componente B2</span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-primary mt-3">
                        <i class="fas fa-tree"></i>
                        <strong>Estrutura em Árvore:</strong>
                        <pre class="mb-0 mt-2"><code>Page
  └─ hierarchyContainer (Nível 1)
      ├─ nivel2a (Nível 2)
      │   ├─ componenteA1
      │   └─ componenteA2
      └─ nivel2b (Nível 2)
          ├─ componenteB1
          └─ componenteB2</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXEMPLO 5: Fragments - Agrupamento Condicional (TAREFA #38) -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="demo-section">
                    <h4><i class="fas fa-puzzle-piece"></i> Exemplo 5: Fragments - Agrupamento Condicional</h4>
                    <p>Fragments permitem alternar entre diferentes conjuntos de componentes dinamicamente:</p>

                    <div class="mb-3">
                        <a wicket:id="toggleModo" class="btn btn-info">
                            <i class="fas fa-exchange-alt"></i> Alternar Modo (Visualização ↔ Edição)
                        </a>
                    </div>

                    <div wicket:id="fragmentContainer" class="demo-container">
                        <span class="demo-container-label">
                            <i class="fas fa-puzzle-piece"></i> Container: fragmentContainer
                        </span>
                        
                        <!-- O Fragment será inserido aqui dinamicamente -->
                        <div wicket:id="fragment"></div>
                    </div>

                    <div class="alert alert-info mt-3">
                        <i class="fas fa-info-circle"></i>
                        <strong>Fragments:</strong> Permitem definir múltiplas variações de markup no mesmo
                        arquivo HTML e alternar entre elas dinamicamente. Ideal para:
                        <ul class="mb-0 mt-2">
                            <li>Modo visualização vs edição</li>
                            <li>Diferentes layouts baseados em condições</li>
                            <li>Evitar criar múltiplos Panels para variações simples</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Definição dos Fragments (não visíveis até serem usados) -->
        <wicket:fragment wicket:id="viewFragment">
            <div class="alert alert-success">
                <h6><i class="fas fa-eye"></i> Modo Visualização</h6>
                <p><strong>Valor:</strong> <span wicket:id="valorExemplo">Valor aqui</span></p>
                <p class="mb-0 text-muted small">Este Fragment mostra dados somente leitura</p>
            </div>
        </wicket:fragment>

        <wicket:fragment wicket:id="editFragment">
            <div class="alert alert-warning">
                <h6><i class="fas fa-edit"></i> Modo Edição</h6>
                <div class="form-group">
                    <label>Campo Editável:</label>
                    <input wicket:id="campoExemplo" type="text" class="form-control" />
                </div>
                <p class="mb-0 text-muted small">Este Fragment permite edição dos dados</p>
            </div>
        </wicket:fragment>

        <!-- EXEMPLO 6: Padrões de Composição - Panel Reutilizável (TAREFA #41) -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="demo-section">
                    <h4><i class="fas fa-layer-group"></i> Exemplo 6: Padrões de Composição - Panel Reutilizável</h4>
                    <p>Demonstração de componente Panel reutilizável (CertidaoCard):</p>

                    <div class="alert alert-primary">
                        <i class="fas fa-info-circle"></i>
                        <strong>Padrão Panel:</strong> O componente <code>CertidaoCard</code> é um exemplo
                        perfeito de composição. Ele encapsula toda a lógica e apresentação de uma certidão
                        em um componente reutilizável que pode ser usado em qualquer página.
                    </div>

                    <!-- Usar o componente CertidaoCard existente -->
                    <div wicket:id="certidaoCardExemplo"></div>

                    <div class="alert alert-success mt-3">
                        <h6><i class="fas fa-check-circle"></i> Vantagens do Padrão Panel:</h6>
                        <ul class="mb-0">
                            <li><strong>Reutilização:</strong> Use o mesmo componente em múltiplas páginas</li>
                            <li><strong>Encapsulamento:</strong> Lógica e markup ficam juntos</li>
                            <li><strong>Manutenção:</strong> Alterações em um lugar afetam todos os usos</li>
                            <li><strong>Testabilidade:</strong> Pode ser testado isoladamente</li>
                            <li><strong>Composição:</strong> Panels podem conter outros Panels</li>
                        </ul>
                    </div>

                    <div class="alert alert-warning mt-3">
                        <h6><i class="fas fa-lightbulb"></i> Outros Padrões de Composição no Projeto:</h6>
                        <ul class="mb-0">
                            <li><code>BasePage</code> - Layout consistente para todas as páginas</li>
                            <li><code>FeedbackPanelCustomizado</code> - Feedback reutilizável</li>
                            <li><code>CertidaoCard</code> - Visualização de certidão (usado acima)</li>
                            <li><code>ConfirmacaoBehavior</code> - Comportamento reutilizável</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- RESUMO E BOAS PRÁTICAS -->
        <div class="row mt-4 mb-4">
            <div class="col-12">
                <div class="card border-success">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0"><i class="fas fa-check-double"></i> Resumo e Boas Práticas</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Quando usar agrupamento:</h6>
                                <ul>
                                    <li>Organizar campos relacionados</li>
                                    <li>Controlar visibilidade em grupo</li>
                                    <li>Criar componentes reutilizáveis</li>
                                    <li>Estruturar formulários complexos</li>
                                    <li>Repetir estruturas de componentes (ListView)</li>
                                    <li><strong>Alternar entre modos (Fragments)</strong></li>
                                    <li><strong>Compor aplicações (Panels)</strong></li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6>Dicas importantes:</h6>
                                <ul>
                                    <li>Use nomes descritivos para containers</li>
                                    <li>Evite aninhamento excessivo (máx. 3-4 níveis)</li>
                                    <li>Use <code>setOutputMarkupId(true)</code> para Ajax</li>
                                    <li>Agrupe por funcionalidade, não por tipo</li>
                                    <li>Crie Panels para grupos reutilizáveis</li>
                                    <li><strong>Use Fragments para variações simples</strong></li>
                                    <li><strong>Prefira composição a herança</strong></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</wicket:extend>
</body>
</html>

