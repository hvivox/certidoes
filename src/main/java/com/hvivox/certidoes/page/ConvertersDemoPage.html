<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
<head>
    <title>Converters Customizados - Wicket</title>
</head>
<body>
<wicket:extend>
    <div class="container-fluid mt-4">
        
        <!-- Cabeçalho -->
        <div class="row mb-4">
            <div class="col-12">
                <h2>
                    <i class="fas fa-exchange-alt text-primary"></i> 
                    <span wicket:id="pageTitle"></span>
                </h2>
                <p class="lead">Formatação automática de dados com Converters</p>
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i>
                    <strong>Converters:</strong> Convertem valores entre String (exibição) e objetos tipados (processamento).
                    Digite valores com ou sem formatação - o Wicket formata automaticamente!
                </div>
            </div>
        </div>

        <!-- Formulário Principal -->
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-keyboard"></i> Demonstração de Converters</h5>
                    </div>
                    <div class="card-body">
                        <form wicket:id="form">
                            
                            <!-- CPF Converter -->
                            <div class="form-group">
                                <label for="cpf">
                                    <i class="fas fa-id-card text-primary"></i> CPF
                                </label>
                                <input wicket:id="cpf" type="text" class="form-control form-control-lg" 
                                       id="cpf" placeholder="Digite apenas números ou com formatação"/>
                                <small class="form-text text-muted">
                                    <strong>Formato:</strong> ###.###.###-## 
                                    <span class="text-info">| Tente: 12345678901</span>
                                </small>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <strong>Valor formatado:</strong> <span wicket:id="cpfAtual" class="text-success"></span>
                                </div>
                            </div>

                            <hr/>

                            <!-- CNPJ Converter -->
                            <div class="form-group">
                                <label for="cnpj">
                                    <i class="fas fa-building text-success"></i> CNPJ
                                </label>
                                <input wicket:id="cnpj" type="text" class="form-control form-control-lg" 
                                       id="cnpj" placeholder="Digite apenas números ou com formatação"/>
                                <small class="form-text text-muted">
                                    <strong>Formato:</strong> ##.###.###/####-## 
                                    <span class="text-info">| Tente: 12345678000195</span>
                                </small>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <strong>Valor formatado:</strong> <span wicket:id="cnpjAtual" class="text-success"></span>
                                </div>
                            </div>

                            <hr/>

                            <!-- CEP Converter -->
                            <div class="form-group">
                                <label for="cep">
                                    <i class="fas fa-map-marker-alt text-warning"></i> CEP
                                </label>
                                <input wicket:id="cep" type="text" class="form-control form-control-lg" 
                                       id="cep" placeholder="Digite apenas números ou com formatação"/>
                                <small class="form-text text-muted">
                                    <strong>Formato:</strong> #####-### 
                                    <span class="text-info">| Tente: 12345678</span>
                                </small>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <strong>Valor formatado:</strong> <span wicket:id="cepAtual" class="text-success"></span>
                                </div>
                            </div>

                            <hr/>

                            <!-- Moeda Brasileira Converter -->
                            <div class="form-group">
                                <label for="valor">
                                    <i class="fas fa-dollar-sign text-danger"></i> Valor (Moeda Brasileira)
                                </label>
                                <input wicket:id="valor" type="text" class="form-control form-control-lg" 
                                       id="valor" placeholder="Digite um valor monetário"/>
                                <small class="form-text text-muted">
                                    <strong>Formato:</strong> R$ 1.234,56 
                                    <span class="text-info">| Tente: 1234.56 ou R$ 1.234,56</span>
                                </small>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <strong>Valor formatado:</strong> <span wicket:id="valorAtual" class="text-success"></span>
                                </div>
                            </div>

                            <hr/>

                            <!-- Botão Submit -->
                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-check"></i> Enviar Formulário
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cards de Exemplos -->
        <div class="row mt-5">
            <div class="col-md-6 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-success text-white">
                        <i class="fas fa-check-circle"></i> Como Usar
                    </div>
                    <div class="card-body">
                        <h6>1. Crie o Converter:</h6>
                        <pre class="bg-light p-2 rounded"><code>public class CPFConverter implements IConverter&lt;String&gt; {
    public String convertToObject(String value, Locale locale) {
        return value.replaceAll("[^0-9]", ""); // Remove formatação
    }
    
    public String convertToString(String value, Locale locale) {
        // Aplica formatação ###.###.###-##
        return String.format("%s.%s.%s-%s", ...);
    }
}</code></pre>
                        
                        <h6 class="mt-3">2. Associe ao Campo:</h6>
                        <pre class="bg-light p-2 rounded"><code>TextField&lt;String&gt; cpf = new TextField&lt;&gt;("cpf") {
    @Override
    public &lt;C&gt; IConverter&lt;C&gt; getConverter(Class&lt;C&gt; type) {
        return (IConverter&lt;C&gt;) new CPFConverter();
    }
};</code></pre>
                    </div>
                </div>
            </div>

            <div class="col-md-6 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-warning text-dark">
                        <i class="fas fa-lightbulb"></i> Dicas Importantes
                    </div>
                    <div class="card-body">
                        <h6>✅ Boas Práticas:</h6>
                        <ul>
                            <li>Use <code>BigDecimal</code> para valores monetários</li>
                            <li>Valide formato em <code>convertToObject()</code></li>
                            <li>Lance <code>ConversionException</code> em erros</li>
                            <li>Reutilize converters em todo o projeto</li>
                            <li>Teste com valores válidos e inválidos</li>
                        </ul>
                        
                        <h6 class="mt-3">⚠️ Cuidados:</h6>
                        <ul>
                            <li>Não perder precisão em conversões numéricas</li>
                            <li>Considerar Locale para formatos internacionais</li>
                            <li>Tratar valores nulos corretamente</li>
                            <li>Documentar formatos esperados</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Converters Disponíveis -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="fas fa-list"></i> Converters Disponíveis no Projeto</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Converter</th>
                                        <th>Tipo</th>
                                        <th>Formato</th>
                                        <th>Exemplo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>CPFConverter</code></td>
                                        <td>String</td>
                                        <td>###.###.###-##</td>
                                        <td>123.456.789-01</td>
                                    </tr>
                                    <tr>
                                        <td><code>CNPJConverter</code></td>
                                        <td>String</td>
                                        <td>##.###.###/####-##</td>
                                        <td>12.345.678/0001-95</td>
                                    </tr>
                                    <tr>
                                        <td><code>CEPConverter</code></td>
                                        <td>String</td>
                                        <td>#####-###</td>
                                        <td>12345-678</td>
                                    </tr>
                                    <tr>
                                        <td><code>MoedaBrasileiraConverter</code></td>
                                        <td>BigDecimal</td>
                                        <td>R$ #.###,##</td>
                                        <td>R$ 1.234,56</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Documentação -->
        <div class="row mt-4">
            <div class="col-12">
                <div wicket:id="docInfo"></div>
            </div>
        </div>

    </div>
</wicket:extend>
</body>
</html>

